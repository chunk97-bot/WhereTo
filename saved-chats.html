<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Saved Chats - WhereTo</title>
    <link rel="stylesheet" href="style.css?v=2">
    <link rel="stylesheet" href="pages.css?v=2">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Poppins:wght@600;700;800&family=Righteous&display=swap" rel="stylesheet">
</head>
<body>
    <div class="page-container">
        <!-- Navigation -->
        <nav class="main-nav">
            <div class="nav-brand">
                <a href="home.html">
                    <svg viewBox="0 0 200 50" class="nav-logo-svg">
                        <text x="5" y="35" class="nav-brand-text">WhereTo</text>
                        <!-- Animated pin -->
                        <circle cx="175" cy="28" r="6" fill="#ff6b6b" class="nav-pin-dot"/>
                        <circle cx="175" cy="27" r="2.5" fill="white"/>
                        <!-- Flying plane -->
                        <g class="nav-flying-plane">
                            <path d="M0 0 L-6 -2 L-5 0 L-6 2 Z" fill="#008cff"/>
                            <path d="M-3 -4 L-1.5 0 L-3 4 L-4 0 Z" fill="#008cff" opacity="0.7"/>
                        </g>
                        <!-- Plane trail -->
                        <path class="nav-plane-trail" d="M100 38 Q130 25 150 30 Q170 35 180 22" 
                              fill="none" stroke="rgba(0,140,255,0.3)" stroke-width="1.5" 
                              stroke-dasharray="4 3" stroke-linecap="round"/>
                    </svg>
                </a>
            </div>
            <div class="nav-links">
                <a href="home.html" class="nav-link">ğŸ  Home</a>
                <a href="index.html" class="nav-link"><svg class="nav-robot-icon" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><defs><linearGradient id="robotHead6" x1="0%" y1="0%" x2="100%" y2="100%"><stop offset="0%" style="stop-color:#00f5ff"/><stop offset="50%" style="stop-color:#8b5cf6"/><stop offset="100%" style="stop-color:#ec4899"/></linearGradient><linearGradient id="robotGlow6" x1="0%" y1="0%" x2="0%" y2="100%"><stop offset="0%" style="stop-color:#fff;stop-opacity:0.8"/><stop offset="100%" style="stop-color:#fff;stop-opacity:0"/></linearGradient><filter id="neonGlow6"><feGaussianBlur stdDeviation="0.5" result="blur"/><feMerge><feMergeNode in="blur"/><feMergeNode in="SourceGraphic"/></feMerge></filter></defs><rect x="4" y="7" width="16" height="13" rx="4" fill="url(#robotHead6)" filter="url(#neonGlow6)"/><rect x="5" y="8" width="14" height="4" rx="2" fill="url(#robotGlow6)" opacity="0.4"/><rect x="7" y="3" width="10" height="5" rx="2.5" fill="url(#robotHead6)"/><circle cx="8.5" cy="12.5" r="2.5" fill="#0a0a1a"/><circle cx="15.5" cy="12.5" r="2.5" fill="#0a0a1a"/><circle cx="8.5" cy="12.5" r="1.5" fill="#00f5ff"><animate attributeName="opacity" values="1;0.5;1" dur="2s" repeatCount="indefinite"/></circle><circle cx="15.5" cy="12.5" r="1.5" fill="#00f5ff"><animate attributeName="opacity" values="1;0.5;1" dur="2s" repeatCount="indefinite"/></circle><rect x="10" y="16" width="4" height="2" rx="1" fill="#ec4899"/><rect x="11" y="0" width="2" height="4" rx="1" fill="url(#robotHead6)"/><circle cx="12" cy="0" r="1.5" fill="#00f5ff"><animate attributeName="r" values="1.5;2;1.5" dur="1.5s" repeatCount="indefinite"/></circle><rect x="1" y="10" width="3" height="6" rx="1.5" fill="url(#robotHead6)"/><rect x="20" y="10" width="3" height="6" rx="1.5" fill="url(#robotHead6)"/></svg> NOVA</a>
                <a href="destinations.html" class="nav-link">ğŸŒ Destinations</a>
                <a href="trip-planner.html" class="nav-link">ğŸ—“ï¸ Trip Planner</a>
                <a href="visa-guide.html" class="nav-link"><svg class="nav-visa-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4 5L20 2V20L4 23Z" fill="#4a90c2"/><path d="M4 5L20 2L21 3L5 6Z" fill="#7fc4e8"/><path d="M20 2L21 3V21L20 20Z" fill="#2d5a87"/><circle cx="12" cy="11" r="4" stroke="#fff" stroke-width="1.2" fill="none"/><line x1="9" y1="14" x2="15" y2="8" stroke="#fff" stroke-width="1.2"/><rect x="7" y="17" width="8" height="1" fill="#fff" opacity="0.6"/></svg> Visa Guide</a>
                <a href="budget-calculator.html" class="nav-link">ğŸ’° Budget</a>
                <a href="currency-converter.html" class="nav-link">ğŸ’± Currency</a>
                <a href="saved-chats.html" class="nav-link active">ğŸ’¾ Saved</a>
            </div>
            <button class="nav-toggle" id="navToggle">â˜°</button>
        </nav>

        <!-- Page Header -->
        <header class="page-header">
            <h1>ğŸ’¾ Saved Chats</h1>
            <p>Your conversation history and saved travel plans</p>
        </header>

        <!-- Search & Filter -->
        <div class="saved-controls">
            <div class="search-bar">
                <input type="text" id="chatSearch" placeholder="Search saved chats...">
                <button class="search-btn">ğŸ”</button>
            </div>
            <div class="sort-options">
                <select id="sortChats">
                    <option value="newest">Newest First</option>
                    <option value="oldest">Oldest First</option>
                    <option value="name">By Name</option>
                </select>
            </div>
        </div>

        <!-- Saved Chats List -->
        <main class="saved-chats-container">
            <div class="saved-chats-list" id="savedChatsList">
                <!-- Empty state -->
                <div class="empty-state" id="emptyState">
                    <div class="empty-icon">ğŸ’¬</div>
                    <h3>No saved chats yet</h3>
                    <p>Start a conversation and save it to see it here!</p>
                    <a href="index.html" class="primary-btn">Start Chatting â†’</a>
                </div>
                
                <!-- Example saved chat item (will be populated dynamically) -->
                <!--
                <div class="saved-chat-item">
                    <div class="chat-icon">ğŸ–ï¸</div>
                    <div class="chat-info">
                        <h3>Beach Vacation Planning</h3>
                        <p class="chat-preview">Looking for beach destinations in India...</p>
                        <span class="chat-date">Feb 10, 2026</span>
                    </div>
                    <div class="chat-actions">
                        <button class="action-btn" title="Open"><span>ğŸ“‚</span></button>
                        <button class="action-btn" title="Delete"><span>ğŸ—‘ï¸</span></button>
                    </div>
                </div>
                -->
            </div>
        </main>

        <!-- Footer -->
        <footer class="page-footer">
            <div class="footer-content">
                <div class="footer-brand">
                    <h3>WhereTo</h3>
                    <p>Your Next Journey Starts Here</p>
                </div>
                <div class="footer-links">
                    <a href="index.html">NOVA</a>
                    <a href="destinations.html">Destinations</a>
                    <a href="trip-planner.html">Trip Planner</a>
                    <a href="visa-guide.html">Visa Guide</a>
                    <a href="budget-calculator.html">Budget</a>
                    <a href="currency-converter.html">Currency</a>
                </div>
                <div class="footer-bottom">
                    <p>Made with â¤ï¸ for travelers everywhere</p>
                    <p>Â© 2026 WhereTo. All rights reserved.</p>
                </div>
            </div>
        </footer>
    </div>

    <script>
        // Saved chats functionality
        document.addEventListener('DOMContentLoaded', function() {
            loadSavedChats();
            
            // Mobile nav toggle
            document.getElementById('navToggle').addEventListener('click', function() {
                document.querySelector('.nav-links').classList.toggle('show');
            });
        });
        
        function loadSavedChats() {
            const savedChats = JSON.parse(localStorage.getItem('whereto_saved_chats') || '[]');
            const container = document.getElementById('savedChatsList');
            const emptyState = document.getElementById('emptyState');
            
            if (savedChats.length === 0) {
                emptyState.style.display = 'block';
                return;
            }
            
            emptyState.style.display = 'none';
            container.innerHTML = savedChats.map((chat, index) => `
                <div class="saved-chat-item" data-index="${index}">
                    <div class="chat-icon">${chat.icon || 'ğŸ’¬'}</div>
                    <div class="chat-info">
                        <h3>${chat.title || 'Untitled Chat'}</h3>
                        <p class="chat-preview">${chat.preview || 'No preview available'}</p>
                        <span class="chat-date">${chat.date || 'Unknown date'}</span>
                    </div>
                    <div class="chat-actions">
                        <button class="action-btn" onclick="openChat(${index})" title="Open"><span>ğŸ“‚</span></button>
                        <button class="action-btn delete" onclick="deleteChat(${index})" title="Delete"><span>ğŸ—‘ï¸</span></button>
                    </div>
                </div>
            `).join('');
        }
        
        function openChat(index) {
            const savedChats = JSON.parse(localStorage.getItem('whereto_saved_chats') || '[]');
            if (savedChats[index]) {
                localStorage.setItem('whereto_current_chat', JSON.stringify(savedChats[index]));
                window.location.href = 'index.html?load=saved';
            }
        }
        
        function deleteChat(index) {
            if (confirm('Are you sure you want to delete this chat?')) {
                const savedChats = JSON.parse(localStorage.getItem('whereto_saved_chats') || '[]');
                savedChats.splice(index, 1);
                localStorage.setItem('whereto_saved_chats', JSON.stringify(savedChats));
                loadSavedChats();
            }
        }
    </script>
</body>
</html>
