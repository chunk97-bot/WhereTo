<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Trip Planner - WhereTo | Plan Your Perfect Journey</title>
    
    <!-- SEO Meta Tags -->
    <meta name="description" content="Plan your perfect trip with AI-powered itinerary generation. Save destinations and create custom travel plans based on geography.">
    <meta name="keywords" content="trip planner, travel itinerary, AI trip planning, travel route planner">
    <meta name="robots" content="index, follow">
    
    <link rel="icon" type="image/png" href="favicon.png">
    <meta name="theme-color" content="#0f0f23">
    
    <link rel="stylesheet" href="style.css?v=2">
    <link rel="stylesheet" href="pages.css?v=5">
    <!-- Flatpickr Date Picker -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Poppins:wght@600;700;800&family=Righteous&display=swap" rel="stylesheet">
    <script src="destinations-data.js"></script>
    
    <style>
        /* Trip Planner Specific Styles */
        .planner-header {
            position: relative;
            text-align: center;
            padding: 3rem 2rem;
            background: linear-gradient(135deg, #0f0f23 0%, #1a1a3e 50%, #0f0f23 100%);
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            overflow: hidden;
        }

        .planner-header .hero-content {
            position: relative;
            z-index: 10;
        }

        .planner-header h1 {
            font-family: 'Poppins', sans-serif;
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
            background: linear-gradient(135deg, #fff 0%, #00d4ff 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .planner-header h1::before {
            content: 'üóìÔ∏è ';
            -webkit-text-fill-color: initial;
        }

        .planner-header p {
            color: rgba(255, 255, 255, 0.7);
            font-size: 1.1rem;
        }

        .planner-content {
            padding: 2rem;
            max-width: 1400px;
            margin: 0 auto;
        }

        /* Saved Destinations Section */
        .saved-section {
            margin-bottom: 3rem;
        }

        .section-title {
            font-family: 'Poppins', sans-serif;
            font-size: 1.5rem;
            margin-bottom: 1.5rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .section-title .emoji {
            font-family: 'Segoe UI Emoji', 'Apple Color Emoji', 'Noto Color Emoji', sans-serif;
            -webkit-text-fill-color: initial;
        }

        .saved-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 1.5rem;
        }

        .saved-card {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 16px;
            overflow: hidden;
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: all 0.3s ease;
            position: relative;
        }

        .saved-card:hover {
            transform: translateY(-5px);
            border-color: rgba(0, 212, 255, 0.3);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        }

        .saved-card-image {
            height: 150px;
            background-size: cover;
            background-position: center;
            position: relative;
        }

        .saved-card-image::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 50%;
            background: linear-gradient(to top, rgba(15, 15, 35, 1), transparent);
        }

        .remove-btn {
            position: absolute;
            top: 10px;
            right: 10px;
            background: rgba(239, 68, 68, 0.9);
            border: none;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            color: white;
            cursor: pointer;
            font-size: 1rem;
            z-index: 2;
            transition: all 0.3s ease;
        }

        .remove-btn:hover {
            background: #ef4444;
            transform: scale(1.1);
        }

        .saved-card-content {
            padding: 1rem;
        }

        .saved-card h3 {
            font-size: 1.1rem;
            margin-bottom: 0.5rem;
        }

        .saved-card p {
            font-size: 0.85rem;
            color: rgba(255, 255, 255, 0.6);
            margin-bottom: 0.5rem;
        }

        .saved-card-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
        }

        .saved-tag {
            padding: 0.25rem 0.75rem;
            background: rgba(0, 212, 255, 0.15);
            border-radius: 20px;
            font-size: 0.75rem;
            color: #00d4ff;
        }

        .empty-state {
            text-align: center;
            padding: 4rem 2rem;
            background: rgba(255, 255, 255, 0.03);
            border-radius: 20px;
            border: 2px dashed rgba(255, 255, 255, 0.1);
        }

        .empty-state .empty-icon {
            font-size: 4rem;
            margin-bottom: 1rem;
            font-family: 'Segoe UI Emoji', 'Apple Color Emoji', 'Noto Color Emoji', sans-serif;
        }

        .empty-state h3 {
            font-size: 1.5rem;
            margin-bottom: 0.5rem;
        }

        .empty-state p {
            color: rgba(255, 255, 255, 0.6);
            margin-bottom: 1.5rem;
        }

        .explore-btn {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.8rem 2rem;
            background: linear-gradient(135deg, #00d4ff 0%, #8b5cf6 100%);
            border: none;
            border-radius: 30px;
            color: white;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            text-decoration: none;
            transition: all 0.3s ease;
        }

        .explore-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(0, 212, 255, 0.3);
        }

        /* Generate Itinerary Section */
        .generate-section {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 20px;
            padding: 2rem;
            border: 1px solid rgba(255, 255, 255, 0.1);
            margin-bottom: 2rem;
        }

        .generate-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 1rem;
            margin-bottom: 1.5rem;
        }

        .generate-header h2 {
            font-size: 1.3rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .date-inputs {
            display: flex;
            gap: 1rem;
            flex-wrap: wrap;
        }

        .date-group {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }

        .date-group label {
            font-size: 0.85rem;
            font-weight: 500;
            color: #00d4ff;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .date-group input {
            padding: 0.75rem 1.25rem;
            background: linear-gradient(135deg, rgba(15, 15, 35, 0.95) 0%, rgba(26, 26, 62, 0.95) 100%);
            border: 2px solid rgba(0, 212, 255, 0.4);
            border-radius: 12px;
            color: white;
            font-size: 1rem;
            font-weight: 500;
            color-scheme: dark;
            transition: all 0.3s ease;
        }

        .date-group input:hover {
            border-color: rgba(139, 92, 246, 0.6);
            box-shadow: 0 0 20px rgba(0, 212, 255, 0.3), inset 0 0 20px rgba(0, 212, 255, 0.05);
        }

        .date-group input:focus {
            outline: none;
            border-color: #8b5cf6;
            box-shadow: 0 0 25px rgba(139, 92, 246, 0.4), inset 0 0 20px rgba(139, 92, 246, 0.1);
        }

        /* Custom date picker styling */
        .date-group input::-webkit-calendar-picker-indicator {
            filter: invert(1) sepia(1) saturate(5) hue-rotate(175deg);
            cursor: pointer;
            opacity: 0.8;
            transition: all 0.3s ease;
            padding: 4px;
            border-radius: 4px;
        }

        .date-group input::-webkit-calendar-picker-indicator:hover {
            opacity: 1;
            background: rgba(0, 212, 255, 0.2);
            transform: scale(1.1);
        }

        .date-group input::-webkit-datetime-edit {
            color: #00d4ff;
            padding-right: 0.5rem;
        }

        .date-group input::-webkit-datetime-edit-fields-wrapper {
            color: #00d4ff;
        }

        .date-group input::-webkit-datetime-edit-text {
            color: rgba(139, 92, 246, 0.8);
            padding: 0 0.2rem;
        }

        .date-group input::-webkit-datetime-edit-month-field,
        .date-group input::-webkit-datetime-edit-day-field,
        .date-group input::-webkit-datetime-edit-year-field {
            color: #00d4ff;
            padding: 2px 4px;
            border-radius: 4px;
            transition: all 0.2s ease;
        }

        .date-group input::-webkit-datetime-edit-month-field:focus,
        .date-group input::-webkit-datetime-edit-day-field:focus,
        .date-group input::-webkit-datetime-edit-year-field:focus {
            background: linear-gradient(135deg, rgba(0, 212, 255, 0.3), rgba(139, 92, 246, 0.3));
            color: white;
        }

        /* Flatpickr Futuristic Theme */
        .flatpickr-calendar {
            background: linear-gradient(135deg, #0f0f23 0%, #1a1a3e 100%) !important;
            border: 2px solid rgba(0, 212, 255, 0.4) !important;
            border-radius: 16px !important;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.6), 0 0 40px rgba(0, 212, 255, 0.2) !important;
            font-family: 'Inter', sans-serif !important;
            overflow: hidden;
        }

        .flatpickr-calendar::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, #00d4ff, #8b5cf6, #ec4899);
        }

        .flatpickr-months {
            background: rgba(0, 212, 255, 0.1) !important;
            padding: 0.5rem !important;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1) !important;
        }

        .flatpickr-months .flatpickr-month {
            background: transparent !important;
            color: white !important;
            fill: white !important;
        }

        .flatpickr-current-month {
            font-size: 1.1rem !important;
            font-weight: 600 !important;
            color: #00d4ff !important;
        }

        .flatpickr-current-month .flatpickr-monthDropdown-months {
            background: rgba(15, 15, 35, 0.95) !important;
            border: 1px solid rgba(0, 212, 255, 0.3) !important;
            border-radius: 8px !important;
            color: #00d4ff !important;
            font-weight: 500 !important;
        }

        .flatpickr-current-month .flatpickr-monthDropdown-months option {
            background: #0f0f23 !important;
            color: white !important;
        }

        .flatpickr-current-month .numInputWrapper span.arrowUp,
        .flatpickr-current-month .numInputWrapper span.arrowDown {
            border: 0 !important;
        }

        .flatpickr-current-month .numInputWrapper span.arrowUp:after {
            border-bottom-color: #00d4ff !important;
        }

        .flatpickr-current-month .numInputWrapper span.arrowDown:after {
            border-top-color: #00d4ff !important;
        }

        .flatpickr-current-month input.cur-year {
            color: #8b5cf6 !important;
            font-weight: 600 !important;
        }

        .flatpickr-months .flatpickr-prev-month,
        .flatpickr-months .flatpickr-next-month {
            fill: #00d4ff !important;
            transition: all 0.3s ease !important;
        }

        .flatpickr-months .flatpickr-prev-month:hover,
        .flatpickr-months .flatpickr-next-month:hover {
            fill: #8b5cf6 !important;
        }

        .flatpickr-months .flatpickr-prev-month svg,
        .flatpickr-months .flatpickr-next-month svg {
            fill: inherit !important;
        }

        .flatpickr-weekdays {
            background: transparent !important;
        }

        span.flatpickr-weekday {
            color: rgba(0, 212, 255, 0.8) !important;
            font-weight: 600 !important;
            font-size: 0.85rem !important;
            text-transform: uppercase !important;
        }

        .flatpickr-days {
            border: none !important;
        }

        .dayContainer {
            padding: 0.5rem !important;
        }

        .flatpickr-day {
            color: rgba(255, 255, 255, 0.85) !important;
            border: 1px solid transparent !important;
            border-radius: 10px !important;
            font-weight: 500 !important;
            transition: all 0.2s ease !important;
        }

        .flatpickr-day:hover {
            background: linear-gradient(135deg, rgba(0, 212, 255, 0.2), rgba(139, 92, 246, 0.2)) !important;
            border-color: rgba(0, 212, 255, 0.4) !important;
            color: white !important;
        }

        .flatpickr-day.today {
            border-color: #8b5cf6 !important;
            background: rgba(139, 92, 246, 0.2) !important;
        }

        .flatpickr-day.today:hover {
            background: rgba(139, 92, 246, 0.3) !important;
        }

        .flatpickr-day.selected,
        .flatpickr-day.startRange,
        .flatpickr-day.endRange {
            background: linear-gradient(135deg, #00d4ff 0%, #8b5cf6 100%) !important;
            border-color: transparent !important;
            color: white !important;
            box-shadow: 0 4px 15px rgba(0, 212, 255, 0.4) !important;
        }

        .flatpickr-day.selected:hover,
        .flatpickr-day.startRange:hover,
        .flatpickr-day.endRange:hover {
            background: linear-gradient(135deg, #00b8e6 0%, #7c4ce0 100%) !important;
        }

        .flatpickr-day.inRange {
            background: rgba(0, 212, 255, 0.15) !important;
            border-color: transparent !important;
            box-shadow: none !important;
        }

        .flatpickr-day.flatpickr-disabled,
        .flatpickr-day.flatpickr-disabled:hover,
        .flatpickr-day.prevMonthDay,
        .flatpickr-day.nextMonthDay {
            color: rgba(255, 255, 255, 0.2) !important;
            background: transparent !important;
        }

        .flatpickr-day.flatpickr-disabled {
            cursor: not-allowed !important;
            text-decoration: line-through !important;
        }

        .flatpickr-time {
            border-top: 1px solid rgba(255, 255, 255, 0.1) !important;
            background: rgba(0, 212, 255, 0.05) !important;
        }

        .flatpickr-time input {
            color: #00d4ff !important;
            font-weight: 600 !important;
        }

        .flatpickr-time .flatpickr-time-separator {
            color: rgba(255, 255, 255, 0.5) !important;
        }

        .flatpickr-time .flatpickr-am-pm {
            color: #8b5cf6 !important;
            font-weight: 600 !important;
        }

        .generate-btn {
            padding: 1rem 2.5rem;
            background: linear-gradient(135deg, #00d4ff 0%, #8b5cf6 100%);
            border: none;
            border-radius: 30px;
            color: white;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .generate-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(0, 212, 255, 0.3);
        }

        .generate-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }

        /* Download PDF Button */
        .download-btn {
            padding: 1rem 2.5rem;
            background: linear-gradient(135deg, #ec4899 0%, #8b5cf6 100%);
            border: none;
            border-radius: 30px;
            color: white;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .download-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(236, 72, 153, 0.3);
        }

        .download-btn span {
            font-size: 1.2rem;
        }

        /* Itinerary Output */
        .itinerary-output {
            background: rgba(255, 255, 255, 0.03);
            border-radius: 16px;
            padding: 2rem;
            min-height: 300px;
        }

        .itinerary-placeholder {
            text-align: center;
            padding: 3rem;
            color: rgba(255, 255, 255, 0.5);
        }

        .itinerary-placeholder .placeholder-icon {
            font-size: 4rem;
            margin-bottom: 1rem;
            font-family: 'Segoe UI Emoji', 'Apple Color Emoji', 'Noto Color Emoji', sans-serif;
        }

        /* Generated Itinerary Styles */
        .itinerary-result {
            animation: fadeIn 0.5s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .itinerary-header {
            text-align: center;
            margin-bottom: 2rem;
            padding-bottom: 1.5rem;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .itinerary-header h2 {
            font-size: 1.8rem;
            margin-bottom: 0.5rem;
            background: linear-gradient(135deg, #fff 0%, #00d4ff 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .itinerary-header h2 .header-emoji {
            -webkit-text-fill-color: initial;
            background: none;
            -webkit-background-clip: initial;
            background-clip: initial;
        }

        .itinerary-header p {
            color: rgba(255, 255, 255, 0.6);
        }

        .day-card {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 16px;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .day-header {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 1rem;
        }

        .day-number {
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, #00d4ff 0%, #8b5cf6 100%);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 1.2rem;
        }

        .day-info h3 {
            font-size: 1.1rem;
            margin-bottom: 0.2rem;
        }

        .day-info span {
            font-size: 0.85rem;
            color: rgba(255, 255, 255, 0.5);
        }

        .day-activities {
            display: flex;
            flex-direction: column;
            gap: 0.75rem;
        }

        .activity-item {
            display: flex;
            align-items: flex-start;
            gap: 1rem;
            padding: 0.75rem;
            background: rgba(255, 255, 255, 0.03);
            border-radius: 10px;
        }

        .activity-time {
            min-width: 70px;
            padding: 0.3rem 0.6rem;
            background: rgba(0, 212, 255, 0.1);
            border-radius: 6px;
            font-size: 0.8rem;
            color: #00d4ff;
            text-align: center;
        }

        .activity-details h4 {
            font-size: 0.95rem;
            margin-bottom: 0.2rem;
        }

        .activity-details p {
            font-size: 0.85rem;
            color: rgba(255, 255, 255, 0.6);
        }

        /* Travel Tips Section */
        .travel-tips {
            background: rgba(139, 92, 246, 0.1);
            border-radius: 16px;
            padding: 1.5rem;
            margin-top: 2rem;
            border: 1px solid rgba(139, 92, 246, 0.2);
        }

        .travel-tips h3 {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-bottom: 1rem;
            color: #a78bfa;
        }

        .travel-tips ul {
            list-style: none;
            padding: 0;
        }

        .travel-tips li {
            padding: 0.5rem 0;
            padding-left: 1.5rem;
            position: relative;
            color: rgba(255, 255, 255, 0.8);
        }

        .travel-tips li::before {
            content: '‚úì';
            position: absolute;
            left: 0;
            color: #22c55e;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .planner-header h1 {
                font-size: 1.8rem;
            }

            .generate-header {
                flex-direction: column;
                align-items: stretch;
            }

            .date-inputs {
                justify-content: center;
            }

            .generate-btn {
                width: 100%;
                justify-content: center;
            }
        }
    </style>
</head>
<body>
    <div class="page-container">
        <!-- Navigation -->
        <nav class="main-nav">
            <div class="nav-brand">
                <a href="home.html">
                    <svg viewBox="0 0 200 50" class="nav-logo-svg">
                        <text x="5" y="35" class="nav-brand-text">WhereTo</text>
                        <circle cx="175" cy="28" r="6" fill="#ff6b6b" class="nav-pin-dot"/>
                        <circle cx="175" cy="27" r="2.5" fill="white"/>
                        <g class="nav-flying-plane">
                            <path d="M0 0 L-6 -2 L-5 0 L-6 2 Z" fill="#ffffff"/>
                            <path d="M-3 -4 L-1.5 0 L-3 4 L-4 0 Z" fill="#ffffff" opacity="0.7"/>
                        </g>
                        <path class="nav-plane-trail" d="M100 38 Q130 25 150 30 Q170 35 180 22" 
                              fill="none" stroke="rgba(255,255,255,0.4)" stroke-width="1.5" 
                              stroke-dasharray="4 3" stroke-linecap="round"/>
                    </svg>
                </a>
            </div>
            <div class="nav-links">
                <a href="home.html" class="nav-link">üè† Home</a>
                <a href="nova.html" class="nav-link"><svg class="nav-robot-icon" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><defs><linearGradient id="robotHead7" x1="0%" y1="0%" x2="100%" y2="100%"><stop offset="0%" style="stop-color:#00f5ff"/><stop offset="50%" style="stop-color:#8b5cf6"/><stop offset="100%" style="stop-color:#ec4899"/></linearGradient><linearGradient id="robotGlow7" x1="0%" y1="0%" x2="0%" y2="100%"><stop offset="0%" style="stop-color:#fff;stop-opacity:0.8"/><stop offset="100%" style="stop-color:#fff;stop-opacity:0"/></linearGradient><filter id="neonGlow7"><feGaussianBlur stdDeviation="0.5" result="blur"/><feMerge><feMergeNode in="blur"/><feMergeNode in="SourceGraphic"/></feMerge></filter></defs><rect x="4" y="7" width="16" height="13" rx="4" fill="url(#robotHead7)" filter="url(#neonGlow7)"/><rect x="5" y="8" width="14" height="4" rx="2" fill="url(#robotGlow7)" opacity="0.4"/><rect x="7" y="3" width="10" height="5" rx="2.5" fill="url(#robotHead7)"/><circle cx="8.5" cy="12.5" r="2.5" fill="#0a0a1a"/><circle cx="15.5" cy="12.5" r="2.5" fill="#0a0a1a"/><circle cx="8.5" cy="12.5" r="1.5" fill="#00f5ff"/><circle cx="15.5" cy="12.5" r="1.5" fill="#00f5ff"/><rect x="10" y="16" width="4" height="2" rx="1" fill="#ec4899"/><rect x="11" y="0" width="2" height="4" rx="1" fill="url(#robotHead7)"/><circle cx="12" cy="0" r="1.5" fill="#00f5ff"><animate attributeName="r" values="1.5;2;1.5" dur="1.5s" repeatCount="indefinite"/></circle><rect x="1" y="10" width="3" height="6" rx="1.5" fill="url(#robotHead7)"/><rect x="20" y="10" width="3" height="6" rx="1.5" fill="url(#robotHead7)"/></svg> NOVA</a>
                <a href="destinations.html" class="nav-link">üåç Destinations</a>
                <a href="trip-planner.html" class="nav-link active">üóìÔ∏è Trip Planner</a>
                <a href="visa-guide.html" class="nav-link"><svg class="nav-visa-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4 5L20 2V20L4 23Z" fill="#4a90c2"/><path d="M4 5L20 2L21 3L5 6Z" fill="#7fc4e8"/><path d="M20 2L21 3V21L20 20Z" fill="#2d5a87"/><circle cx="12" cy="11" r="4" stroke="#fff" stroke-width="1.2" fill="none"/><line x1="9" y1="14" x2="15" y2="8" stroke="#fff" stroke-width="1.2"/><rect x="7" y="17" width="8" height="1" fill="#fff" opacity="0.6"/></svg> Visa Guide</a>
                <a href="budget-calculator.html" class="nav-link">üí∞ Budget</a>
                <a href="currency-converter.html" class="nav-link">üí± Currency</a>
            </div>
            <button class="nav-toggle" id="navToggle">‚ò∞</button>
        </nav>

        <!-- Page Header -->
        <header class="planner-header">
            <!-- Static Planes -->
            <div class="planes-container">
                <div class="flying-plane plane-1">‚úàÔ∏è</div>
                <div class="flying-plane plane-2">‚úàÔ∏è</div>
                <div class="flying-plane plane-3">‚úàÔ∏è</div>
                <div class="flying-plane plane-4">‚úàÔ∏è</div>
                <div class="glow-particle"></div>
                <div class="glow-particle"></div>
                <div class="glow-particle"></div>
                <div class="glow-particle"></div>
                <div class="glow-particle"></div>
                <div class="glow-particle"></div>
                <div class="glow-particle"></div>
                <div class="glow-particle"></div>
            </div>
            <div class="hero-content">
                <h1>Trip Planner</h1>
                <p>Save destinations and create AI-powered travel itineraries</p>
            </div>
        </header>

        <!-- Main Content -->
        <main class="planner-content">
            <!-- Saved Destinations -->
            <section class="saved-section">
                <h2 class="section-title"><span class="emoji">üìç</span> Your Saved Destinations</h2>
                <div class="saved-grid" id="savedGrid">
                    <!-- Loaded dynamically -->
                </div>
            </section>

            <!-- Generate Itinerary -->
            <section class="generate-section" id="generateSection">
                <div class="generate-header">
                    <h2><span class="emoji">‚ú®</span> Generate AI Itinerary</h2>
                    <div class="date-inputs">
                        <div class="date-group">
                            <label>Start Date</label>
                            <input type="date" id="startDate">
                        </div>
                        <div class="date-group">
                            <label>End Date</label>
                            <input type="date" id="endDate">
                        </div>
                    </div>
                </div>
                <div style="text-align: center; margin-top: 1.5rem; display: flex; gap: 1rem; justify-content: center; flex-wrap: wrap;">
                    <button class="generate-btn" id="generateBtn" onclick="generateItinerary()">
                        <span>ü§ñ</span> Generate Smart Itinerary
                    </button>
                    <button class="download-btn" id="downloadBtn" onclick="downloadPDF()" style="display: none;">
                        <span>üìÑ</span> Download PDF
                    </button>
                </div>
            </section>

            <!-- Itinerary Output -->
            <div class="itinerary-output" id="itineraryOutput">
                <div class="itinerary-placeholder">
                    <div class="placeholder-icon">üó∫Ô∏è</div>
                    <h3>Your Itinerary Will Appear Here</h3>
                    <p>Save at least 1 destination, set your dates, and click "Generate Smart Itinerary" to create an AI-optimized travel plan</p>
                </div>
            </div>
        </main>

        <!-- Footer -->
        <footer class="page-footer">
            <div class="footer-content">
                <div class="footer-brand">
                    <h3>WhereTo</h3>
                    <p>Your Next Journey Starts Here</p>
                </div>
                <div class="footer-links">
                    <a href="nova.html">NOVA</a>
                    <a href="destinations.html">Destinations</a>
                    <a href="trip-planner.html">Trip Planner</a>
                    <a href="visa-guide.html">Visa Guide</a>
                    <a href="budget-calculator.html">Budget</a>
                    <a href="currency-converter.html">Currency</a>
                </div>
                <div class="footer-bottom">
                    <p>Made with ‚ù§Ô∏è for travelers everywhere</p>
                    <p>¬© 2026 WhereTo. All rights reserved.</p>
                </div>
            </div>
        </footer>
    </div>

    <!-- Flatpickr JS -->
    <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
    <!-- html2pdf for PDF generation -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    <script>
        // Mobile nav toggle
        document.getElementById('navToggle').addEventListener('click', function() {
            document.querySelector('.nav-links').classList.toggle('show');
        });

        // Set default dates
        document.addEventListener('DOMContentLoaded', function() {
            const today = new Date();
            const nextWeek = new Date(today.getTime() + 7 * 24 * 60 * 60 * 1000);
            const twoWeeks = new Date(today.getTime() + 14 * 24 * 60 * 60 * 1000);
            
            // Initialize Flatpickr for start date
            const startPicker = flatpickr('#startDate', {
                minDate: 'today',
                defaultDate: nextWeek,
                dateFormat: 'd-m-Y',
                disableMobile: true,
                animate: true,
                onChange: function(selectedDates, dateStr, instance) {
                    // Update end date minimum
                    endPicker.set('minDate', selectedDates[0]);
                    if (endPicker.selectedDates[0] < selectedDates[0]) {
                        endPicker.setDate(selectedDates[0]);
                    }
                }
            });
            
            // Initialize Flatpickr for end date
            const endPicker = flatpickr('#endDate', {
                minDate: 'today',
                defaultDate: twoWeeks,
                dateFormat: 'd-m-Y',
                disableMobile: true,
                animate: true
            });
            
            loadSavedDestinations();
        });

        // Load saved destinations from localStorage
        function loadSavedDestinations() {
            const saved = JSON.parse(localStorage.getItem('tripPlanner') || '[]');
            const grid = document.getElementById('savedGrid');
            
            if (saved.length === 0) {
                grid.innerHTML = `
                    <div class="empty-state" style="grid-column: 1 / -1;">
                        <div class="empty-icon">üìç</div>
                        <h3>No Destinations Saved Yet</h3>
                        <p>Go to Destinations and click "Save to Trip" on places you want to visit</p>
                        <a href="destinations.html" class="explore-btn">
                            <span>üåç</span> Explore Destinations
                        </a>
                    </div>
                `;
                document.getElementById('generateSection').style.display = 'none';
                return;
            }

            document.getElementById('generateSection').style.display = 'block';
            
            grid.innerHTML = saved.map(dest => `
                <div class="saved-card" data-id="${dest.id}">
                    <button class="remove-btn" onclick="removeDestination('${dest.id}')" title="Remove">√ó</button>
                    <div class="saved-card-image" style="background-image: url('${dest.image}')"></div>
                    <div class="saved-card-content">
                        <h3>${dest.flag || ''} ${dest.name}</h3>
                        <p>${dest.country}</p>
                        <div class="saved-card-tags">
                            ${(dest.categories || []).slice(0, 3).map(cat => {
                                const catInfo = destinationCategories.find(c => c.id === cat);
                                return catInfo ? `<span class="saved-tag">${catInfo.icon} ${catInfo.name}</span>` : '';
                            }).join('')}
                        </div>
                    </div>
                </div>
            `).join('');
        }

        // Remove destination from saved
        function removeDestination(id) {
            let saved = JSON.parse(localStorage.getItem('tripPlanner') || '[]');
            // Convert to number for comparison since IDs are stored as numbers
            const numId = parseInt(id, 10);
            saved = saved.filter(dest => dest.id !== numId);
            localStorage.setItem('tripPlanner', JSON.stringify(saved));
            loadSavedDestinations();
        }

        // Generate AI Itinerary
        function generateItinerary() {
            const saved = JSON.parse(localStorage.getItem('tripPlanner') || '[]');
            // Get dates from flatpickr instances
            const startInput = document.getElementById('startDate');
            const endInput = document.getElementById('endDate');
            const startDate = startInput._flatpickr.selectedDates[0];
            const endDate = endInput._flatpickr.selectedDates[0];
            const output = document.getElementById('itineraryOutput');

            if (saved.length < 1) {
                output.innerHTML = `
                    <div class="itinerary-placeholder">
                        <div class="placeholder-icon">‚ö†Ô∏è</div>
                        <h3>No Destinations Saved</h3>
                        <p>Please save at least 1 destination to generate your itinerary</p>
                    </div>
                `;
                return;
            }

            const days = Math.ceil((endDate - startDate) / (1000 * 60 * 60 * 24)) + 1;
            if (days < 1) {
                output.innerHTML = `
                    <div class="itinerary-placeholder">
                        <div class="placeholder-icon">üìÖ</div>
                        <h3>Invalid Dates</h3>
                        <p>Please select valid start and end dates</p>
                    </div>
                `;
                return;
            }

            // Optimize route based on regions/geography
            const optimizedRoute = optimizeRoute(saved);
            
            // Generate day-by-day itinerary
            const daysPerDest = Math.max(1, Math.floor(days / optimizedRoute.length));
            const extraDays = days % optimizedRoute.length;

            let html = `
                <div class="itinerary-result">
                    <div class="itinerary-header">
                        <h2><span class="header-emoji">üó∫Ô∏è</span> Your ${days}-Day Adventure</h2>
                        <p>${optimizedRoute.length} destinations ¬∑ Optimized by geography</p>
                    </div>
            `;

            let currentDay = 1;
            const dateOptions = { weekday: 'short', month: 'short', day: 'numeric' };

            optimizedRoute.forEach((dest, index) => {
                const daysHere = daysPerDest + (index < extraDays ? 1 : 0);
                
                for (let d = 0; d < daysHere; d++) {
                    const currentDate = new Date(startDate);
                    currentDate.setDate(currentDate.getDate() + currentDay - 1);
                    
                    const isFirstDay = d === 0;
                    const isLastDay = d === daysHere - 1 && index < optimizedRoute.length - 1;
                    
                    html += `
                        <div class="day-card">
                            <div class="day-header">
                                <div class="day-number">D${currentDay}</div>
                                <div class="day-info">
                                    <h3>${dest.flag || ''} ${dest.name}</h3>
                                    <span>${currentDate.toLocaleDateString('en-US', dateOptions)}</span>
                                </div>
                            </div>
                            <div class="day-activities">
                                ${generateDayActivities(dest, isFirstDay, isLastDay, d + 1)}
                            </div>
                        </div>
                    `;
                    currentDay++;
                }
            });

            html += `
                    <div class="travel-tips">
                        <h3>üí° Smart Travel Tips</h3>
                        <ul>
                            ${generateTravelTips(optimizedRoute)}
                        </ul>
                    </div>
                </div>
            `;

            output.innerHTML = html;
            
            // Show download button
            document.getElementById('downloadBtn').style.display = 'flex';
        }

        // Optimize route based on geography
        function optimizeRoute(destinations) {
            // Group by region for smarter routing
            const regionOrder = ['asia', 'middleEast', 'europe', 'africa', 'northAmerica', 'southAmerica', 'oceania'];
            
            return [...destinations].sort((a, b) => {
                const aRegion = regionOrder.indexOf(a.region);
                const bRegion = regionOrder.indexOf(b.region);
                
                if (aRegion !== bRegion) return aRegion - bRegion;
                
                // Within same region, group by country
                return (a.country || '').localeCompare(b.country || '');
            });
        }

        // Generate activities for a day
        function generateDayActivities(dest, isFirstDay, isLastDay, dayNum) {
            const activities = [];
            
            if (isFirstDay) {
                activities.push({
                    time: '09:00',
                    title: `Arrive in ${dest.name}`,
                    desc: 'Check into accommodation and freshen up'
                });
                activities.push({
                    time: '11:00',
                    title: 'Explore the area',
                    desc: 'Get oriented with the local neighborhood'
                });
            } else {
                activities.push({
                    time: '08:00',
                    title: 'Breakfast',
                    desc: 'Try local cuisine at a nearby restaurant'
                });
            }

            // Add destination-specific activities based on categories
            const categories = dest.categories || [];
            
            if (categories.includes('heritage') || categories.includes('cultural')) {
                activities.push({
                    time: '10:00',
                    title: 'Historical Sites',
                    desc: `Visit famous landmarks and monuments in ${dest.name}`
                });
            }
            
            if (categories.includes('beach')) {
                activities.push({
                    time: '14:00',
                    title: 'Beach Time',
                    desc: 'Relax at the beautiful beaches'
                });
            }

            if (categories.includes('adventure')) {
                activities.push({
                    time: '15:00',
                    title: 'Adventure Activity',
                    desc: 'Experience local adventure sports or activities'
                });
            }

            if (categories.includes('food')) {
                activities.push({
                    time: '13:00',
                    title: 'Food Tour',
                    desc: 'Sample local delicacies and street food'
                });
            }

            if (categories.includes('shopping')) {
                activities.push({
                    time: '16:00',
                    title: 'Shopping',
                    desc: 'Explore local markets and shops'
                });
            }

            activities.push({
                time: '19:00',
                title: 'Dinner',
                desc: 'Experience local dining scene'
            });

            if (isLastDay) {
                activities.push({
                    time: '21:00',
                    title: 'Pack & Rest',
                    desc: 'Prepare for travel to next destination'
                });
            }

            return activities.map(act => `
                <div class="activity-item">
                    <span class="activity-time">${act.time}</span>
                    <div class="activity-details">
                        <h4>${act.title}</h4>
                        <p>${act.desc}</p>
                    </div>
                </div>
            `).join('');
        }

        // Generate travel tips
        function generateTravelTips(destinations) {
            const tips = [
                'Book flights between destinations in advance for better rates',
                'Keep digital copies of all documents in cloud storage',
                'Download offline maps for each destination'
            ];

            // Add region-specific tips
            const regions = [...new Set(destinations.map(d => d.region))];
            
            if (regions.includes('europe')) {
                tips.push('Consider a Eurail pass if traveling between multiple European cities');
            }
            if (regions.includes('asia')) {
                tips.push('Carry cash - many Asian destinations prefer local currency');
            }
            if (destinations.length > 3) {
                tips.push('Consider travel insurance for multi-destination trips');
            }

            return tips.map(tip => `<li>${tip}</li>`).join('');
        }

        // Download PDF function
        function downloadPDF() {
            const itinerary = document.getElementById('itineraryOutput');
            const itineraryResult = itinerary.querySelector('.itinerary-result');
            
            if (!itineraryResult) {
                alert('Please generate an itinerary first!');
                return;
            }
            
            // Create PDF with dark futuristic theme matching website
            const pdfContent = document.createElement('div');
            pdfContent.innerHTML = `
                <div style="font-family: 'Segoe UI', Arial, sans-serif; padding: 0; background: #0f0f23; color: white; min-height: 100%;">
                    <!-- Header with Logo -->
                    <div style="background: linear-gradient(135deg, #0f0f23 0%, #1a1a3e 50%, #0f0f23 100%); padding: 40px; text-align: center; border-bottom: 3px solid transparent; background-image: linear-gradient(135deg, #0f0f23, #1a1a3e), linear-gradient(90deg, #00d4ff, #8b5cf6, #ec4899); background-origin: border-box; background-clip: padding-box, border-box;">
                        <div style="display: inline-block; margin-bottom: 10px;">
                            <span style="font-family: 'Georgia', serif; font-size: 36px; font-weight: bold; background: linear-gradient(90deg, #ffffff, #e8f8ff); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;">WhereTo</span>
                            <span style="display: inline-block; width: 12px; height: 12px; background: #ff6b6b; border-radius: 50%; margin-left: 5px; vertical-align: top; box-shadow: 0 0 10px rgba(255, 107, 107, 0.5);"></span>
                        </div>
                        <p style="color: rgba(255, 255, 255, 0.7); font-size: 14px; margin: 0;">Your AI-Powered Travel Itinerary</p>
                    </div>
                    
                    <!-- Main Content -->
                    <div style="padding: 30px 40px;">
                        ${formatForPDF(itineraryResult.innerHTML)}
                    </div>
                    
                    <!-- Footer -->
                    <div style="background: rgba(0, 0, 0, 0.3); padding: 30px 40px; text-align: center; border-top: 1px solid rgba(255, 255, 255, 0.1);">
                        <div style="margin-bottom: 15px;">
                            <span style="font-family: 'Georgia', serif; font-size: 20px; font-weight: bold; color: white;">WhereTo</span>
                            <span style="display: inline-block; width: 8px; height: 8px; background: #ff6b6b; border-radius: 50%; margin-left: 3px; vertical-align: top;"></span>
                        </div>
                        <p style="color: rgba(255, 255, 255, 0.6); font-size: 12px; margin: 0 0 5px 0;">Your Next Journey Starts Here</p>
                        <p style="color: rgba(255, 255, 255, 0.5); font-size: 11px; margin: 0;">Generated on ${new Date().toLocaleDateString('en-US', { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' })}</p>
                        <div style="margin-top: 15px; padding-top: 15px; border-top: 1px solid rgba(255, 255, 255, 0.1);">
                            <p style="color: rgba(255, 255, 255, 0.4); font-size: 10px; margin: 0;">Made with ‚ù§Ô∏è for travelers everywhere | ¬© 2026 WhereTo. All rights reserved.</p>
                        </div>
                    </div>
                </div>
            `;
            
            document.body.appendChild(pdfContent);
            
            const options = {
                margin: 0,
                filename: 'WhereTo-Itinerary.pdf',
                image: { type: 'jpeg', quality: 0.98 },
                html2canvas: { scale: 2, useCORS: true, backgroundColor: '#0f0f23' },
                jsPDF: { unit: 'mm', format: 'a4', orientation: 'portrait' }
            };
            
            html2pdf().set(options).from(pdfContent).save().then(() => {
                document.body.removeChild(pdfContent);
            });
        }
        
        // Format HTML for PDF (keep dark theme)
        function formatForPDF(html) {
            return html
                .replace(/<div class="itinerary-header">/g, '<div style="text-align: center; margin-bottom: 30px; padding-bottom: 20px; border-bottom: 1px solid rgba(255, 255, 255, 0.1);">')
                .replace(/<h2><span class="header-emoji">/g, '<h2 style="font-size: 28px; margin-bottom: 10px; background: linear-gradient(135deg, #fff 0%, #00d4ff 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;"><span style="-webkit-text-fill-color: initial;">')
                .replace(/<div class="day-card">/g, '<div style="background: rgba(255, 255, 255, 0.05); border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 16px; padding: 20px; margin-bottom: 15px; page-break-inside: avoid;">')
                .replace(/<div class="day-header">/g, '<div style="display: flex; align-items: center; gap: 15px; margin-bottom: 15px;">')
                .replace(/<div class="day-number">/g, '<div style="background: linear-gradient(135deg, #00d4ff 0%, #8b5cf6 100%); color: white; padding: 12px 18px; border-radius: 12px; font-weight: 700; font-size: 16px; min-width: 50px; text-align: center;">')
                .replace(/<div class="day-info">/g, '<div>')
                .replace(/<div class="day-info"><h3>/g, '<div><h3 style="color: white; font-size: 18px; margin: 0 0 5px 0;">')
                .replace(/<h3>/g, '<h3 style="color: white; font-size: 18px; margin: 0 0 5px 0;">')
                .replace(/<span>/g, '<span style="color: rgba(255, 255, 255, 0.5); font-size: 13px;">')
                .replace(/<div class="day-activities">/g, '<div style="border-top: 1px solid rgba(255, 255, 255, 0.1); padding-top: 15px;">')
                .replace(/<div class="activity-item">/g, '<div style="display: flex; gap: 15px; padding: 12px; background: rgba(255, 255, 255, 0.03); border-radius: 10px; margin-bottom: 8px;">')
                .replace(/<span class="activity-time">/g, '<span style="background: rgba(0, 212, 255, 0.1); color: #00d4ff; padding: 6px 12px; border-radius: 6px; font-size: 12px; min-width: 60px; text-align: center; font-weight: 500;">')
                .replace(/<div class="activity-details">/g, '<div style="flex: 1;">')
                .replace(/<h4>/g, '<h4 style="color: white; margin: 0 0 5px 0; font-size: 14px; font-weight: 600;">')
                .replace(/<p>/g, '<p style="margin: 0; color: rgba(255, 255, 255, 0.6); font-size: 13px;">')
                .replace(/<div class="travel-tips">/g, '<div style="background: rgba(139, 92, 246, 0.1); border: 1px solid rgba(139, 92, 246, 0.2); border-radius: 16px; padding: 20px; margin-top: 25px;">')
                .replace(/<h3>üí° Smart Travel Tips<\/h3>/g, '<h3 style="color: white; font-size: 18px; margin: 0 0 15px 0;">üí° Smart Travel Tips</h3>')
                .replace(/<ul>/g, '<ul style="margin: 0; padding-left: 20px;">')
                .replace(/<li>/g, '<li style="color: rgba(255, 255, 255, 0.8); margin-bottom: 10px; font-size: 14px;">');
        }
    </script>
</body>
</html>
